<div class="esb-main-content">
    <%= formFor(user, {action: userPath({ user_id: user.ID }), method: "PUT"}) { %>
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <h1>Edit user: <%= user.Username %></h1>
                <div class="d-none d-lg-block">
                    <button class="btn btn-success" role="submit">Save</button>
                    <%= linkTo(usersPath(), {class: "btn btn-warning", "data-confirm" : "Are you sure? All changes will be lost." ,
                        body: "Cancel" }) %>
                </div>
            </div>
        </nav>
        <div class="form-floating mb-3">
            <input class="form-control" type="text" id="floatingReference" value="<%= user.ID %>" readonly />
            <label for="floatingReference">UUID</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" name="Username" id="floatingUsername" placeholder="Username" value="<%= user.Username %>"
                required />
            <label for="floatingUsername">Username</label>
        </div>
        <div class="form-floating mb-3">
            <input type="password" class="form-control" name="Password" id="floatingPassword" placeholder="Password"
                value="<%= user.Password %>" required />
            <label for="floatingPassword">Password</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" name="FirstName" id="floatingFirstName" placeholder="First name"
                value="<%= user.FirstName %>" required />
            <label for="floatingFirstName">First name</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" name="LastName" id="floatingLastName" placeholder="Last name"
                value="<%= user.LastName %>" />
            <label for="floatingLastName">Second name</label>
        </div>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" name="MiddleName" id="floatingMiddleName" placeholder="Middle name"
                value="<%= user.MiddleName %>" />
            <label for="floatingMiddleName">Middle name</label>
        </div>
        <div class="form-floating mb-3">
            <input type="tel" class="form-control" name="Phone" id="floatingPhone" placeholder="Phone" value="<%= user.Phone %>" />
            <label for="floatingPhone">Phone</label>
        </div>
        <div class="form-floating mb-3">
            <input type="email" class="form-control" name="Email" id="floatingEmail" placeholder="E-mail" value="<%= user.Email %>" />
            <label for="floatingEmail">E-mail</label>
        </div>
    <% } %>
</div>
<script>
function formatPhoneNumber(value) {
    value = value.replace(/\D/g, "");
    value = value.substring(0, 10); 
    const phoneFormat =
        `(${value.substring(0, 3)}) 
        ${value.substring(3, 6)}-
        ${value.substring(6, 10)
        }`;
    return phoneFormat;
}

// document
//     .getElementById("floatingPhone")
//     .addEventListener("input", function (e) {
//         e.target.value = 
//         formatPhoneNumber(e.target.value);
//     });
</script>